# Game.tsx 리팩터링 회귀 테스트 체크리스트

이 문서는 Game.tsx 구조 리팩터링 후 반드시 확인해야 할 시나리오들을 정리한 것입니다.

## 1. 에디터 테스트 기능

### 1.1 에디터에서 테스트 실행
- [ ] 에디터에서 노트를 배치하고 "테스트 실행" 버튼 클릭
- [ ] 테스트 모드로 전환되는지 확인
- [ ] YouTube 음악이 정상적으로 재생되는지 확인 (3초 오프셋 적용)
- [ ] 노트가 음악과 정확히 동기화되어 재생되는지 확인
- [ ] 노트가 판정선에 도달할 때 음악과 정확히 맞는지 확인

### 1.2 테스트 중 ESC 키로 나가기
- [ ] 테스트 중 ESC 키를 눌러 에디터로 돌아가기
- [ ] 에디터에서 기존 채보가 자동으로 복원되는지 확인
- [ ] YouTube 플레이어가 정상적으로 정리되는지 확인

### 1.3 테스트 종료 화면
- [ ] 테스트가 끝나면 종료 화면이 표시되는지 확인
- [ ] "다시 테스트" 버튼이 정상 작동하는지 확인
- [ ] "에디터로 돌아가기" 버튼이 정상 작동하는지 확인
- [ ] "메인 메뉴" 버튼이 정상 작동하는지 확인

## 2. 채보 선택 및 플레이

### 2.1 채보 선택
- [ ] 메인 화면에서 "플레이" 버튼 클릭
- [ ] 채보 선택 화면이 표시되는지 확인
- [ ] 업로드된 채보 목록이 정상적으로 표시되는지 확인

### 2.2 채보 플레이
- [ ] 채보를 선택하여 게임 시작
- [ ] YouTube 음악이 정상적으로 재생되는지 확인
- [ ] 노트가 정상적으로 렌더링되는지 확인
- [ ] 키 입력 시 정상적으로 판정되는지 확인
- [ ] 점수가 정상적으로 업데이트되는지 확인

### 2.3 게임 종료
- [ ] 게임이 끝나면 종료 화면이 표시되는지 확인
- [ ] 최대 콤보와 정확도가 정상적으로 표시되는지 확인
- [ ] "다시 시작" 버튼이 정상 작동하는지 확인

## 3. YouTube 오디오 동기화

### 3.1 오프셋 확인
- [ ] 테스트 모드에서 음악이 노트보다 3초 늦게 재생되는지 확인
- [ ] 노트가 판정선에 도달할 때 정확히 해당 시간의 음악이 재생되는지 확인

### 3.2 동기화 안정성
- [ ] 게임 중 음악이 계속 재생되는지 확인 (일시정지되지 않는지)
- [ ] 시간 동기화가 정상적으로 작동하는지 확인 (음악이 밀리지 않는지)
- [ ] 재생 속도 변경 시 동기화가 유지되는지 확인

## 4. 관리자 기능

### 4.1 관리자 화면
- [ ] 메인 화면에서 "관리자" 버튼 클릭
- [ ] 관리자 화면이 표시되는지 확인
- [ ] 대기중인 채보 목록이 정상적으로 표시되는지 확인

### 4.2 채보 승인/거절
- [ ] 관리자 화면에서 채보를 승인/거절할 수 있는지 확인
- [ ] 승인/거절 후 목록이 정상적으로 업데이트되는지 확인

### 4.3 관리자 테스트
- [ ] 관리자 화면에서 "테스트" 버튼이 정상 작동하는지 확인
- [ ] 테스트 모드로 전환되는지 확인
- [ ] YouTube 음악이 정상적으로 재생되는지 확인

## 5. UI 컴포넌트 분리

### 5.1 MainMenu 컴포넌트
- [ ] 메인 메뉴 UI가 정상적으로 표시되는지 확인
- [ ] 모든 버튼이 정상 작동하는지 확인
- [ ] 속도 슬라이더가 정상 작동하는지 확인

### 5.2 GameEndScreen 컴포넌트
- [ ] 게임 종료 화면이 정상적으로 표시되는지 확인
- [ ] 테스트 모드 종료 화면과 일반 게임 종료 화면이 구분되는지 확인
- [ ] 모든 버튼이 정상 작동하는지 확인

## 6. 상태 관리

### 6.1 게임 상태
- [ ] 게임 상태가 정상적으로 초기화되는지 확인
- [ ] 게임 시작/종료 시 상태가 정상적으로 변경되는지 확인
- [ ] 점수 및 콤보가 정상적으로 업데이트되는지 확인

### 6.2 모달/패널 상태
- [ ] 에디터, 채보 선택, 관리자 화면 전환이 정상 작동하는지 확인
- [ ] 한 화면에서 다른 화면으로 전환 시 이전 상태가 유지되는지 확인

## 7. 성능

### 7.1 렌더링 성능
- [ ] 게임 중 프레임 드롭이 없는지 확인
- [ ] 많은 노트가 있을 때도 정상적으로 작동하는지 확인

### 7.2 메모리 누수
- [ ] 장시간 게임 플레이 후 메모리 사용량이 정상인지 확인
- [ ] YouTube 플레이어가 정상적으로 정리되는지 확인

## 8. 에러 처리

### 8.1 YouTube API 에러
- [ ] YouTube API 로드 실패 시 적절한 에러 처리가 되는지 확인
- [ ] YouTube 비디오 ID가 없을 때 정상 작동하는지 확인

### 8.2 채보 로드 에러
- [ ] 잘못된 채보 데이터 로드 시 적절한 에러 메시지가 표시되는지 확인
- [ ] 채보 로드 실패 시 게임이 크래시되지 않는지 확인

## 참고사항

- 모든 테스트는 개발 환경과 프로덕션 환경에서 각각 수행하는 것을 권장합니다.
- YouTube 음악 재생은 브라우저의 autoplay 정책으로 인해 수동 재생이 필요할 수 있습니다.
- 테스트 중 문제가 발견되면 `GAME_REFACTORING_GUIDE.md`를 참조하여 수정하세요.




